!function(){var Logger={counter:0,url:"http://localhost:8083",page:"log",result:function(){},exports:null,methodAliasList:[],err:null,remote:!0,stringify:function(a){var d,b=[];try{b=JSON.stringify(a)}catch(c){d=this,a.forEach(function(a,b,c){"object"==typeof a&&null!==a&&(c[b]=d.decycle(a))}),b=JSON.stringify(a)}finally{b="object"==typeof b?JSON.stringify(["终态处理对象失败,自行检查错误"]):b}return b},methodNames:["info","warn","error","log","table","time","timeEnd","trace","assert","dir","dirxml","count","group","groupEnd"],send:function(a,b){b=Array.prototype.slice.call(b,0),this.ajax(a,b)},decycle:function(a,b){var c=new Array;return function d(a,e){var f,g,h;return void 0!==b&&(a=b(a)),"object"!=typeof a||null===a||a instanceof Boolean||a instanceof Date||a instanceof Number||a instanceof RegExp||a instanceof String?a:(h=c.filter(function(b){return b.key===a?b:void 0}),f=h.length?h[0].path:void 0,void 0!==f?{$ref:f}:(c.push({key:a,path:e}),Array.isArray(a)?(g=[],a.forEach(function(a,b){g[b]=d(a,e+"["+b+"]")})):(g={},Object.keys(a).forEach(function(b){g[b]=d(a[b],e+"["+JSON.stringify(b)+"]")})),g))}(a,"$")},ajax:function(a,b){var c=this,d=b.reduce(function(a,b,c,d){return/element/i.test(Object.prototype.toString.call(b))&&(d[c]=b.outerHTML,a.push(c)),a},[]),e=new XMLHttpRequest,f=["type="+a,"props="+encodeURIComponent(this.stringify(b)),"time="+Date.now(),"length="+b.length,"count="+this.counter,"dom="+(d.length?d.join(","):"noop")].join("&");e.open("POST",this.url+"/console/"+this.page,!0),e.onreadystatechange=function(){200===e.status&&4===e.readyState&&c.result&&c.result(JSON.parse(e.responseText))},e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(f),this.counter++},clear:function(){var a=new XMLHttpRequest,b=this;a.open("POST",this.url+"/console/"+this.page,!0),a.onreadystatechange=function(){200===a.status&&4===a.readyState&&b.result&&b.result(JSON.parse(a.responseText))},a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send("clearScreen=true")},noop:function(){},auto:function(a){var b=a.build,c=this;return this.url=a.url?a.url:this.url,this.page=a.page?a.page:this.page,this.result=a.result?a.result:this.result,this.err="function"==typeof a.err?a.err:this.err,this.exports=Array.isArray(a.exports)?a.exports:this.exports,this.remote=a.remote===!1?!1:this.remote,this.exec=a.exec===!0,this.exports&&this.exports.length&&this.setMethodAlias(this.exports),b?this.send=this.noop:this.remote?(this.err&&this.err(function(){c.send.call(Logger,"error",arguments)}),this.exec&&this.execCommand(),(void 0===a.clear||a.clear===!0)&&this.clear(),void 0):(this.send=function(a,b){b=Array.prototype.slice.call(b,0),console[a].apply(console,b)},void 0)},setMethodAlias:function(a){var b,c,d,e,f;for(b=0,c=a.length;c>b;b++)d=a[b].split(/\sas\s/),e=d[0],f=2===d.length?d[1]:e,window[f]=logger[e].bind(this),this.methodAliasList.push(f)},execCommand:function(){var self=this;setInterval(function(){var xhr=new XMLHttpRequest;xhr.open("GET",self.url+"/execute/"+self.page,!0),xhr.onreadystatechange=function(){var response,command;200===xhr.status&&4===xhr.readyState&&(response=JSON.parse(xhr.responseText),response.status===!0&&(command=decodeURIComponent(response.command),eval(command),self.result&&self.result(response)))},xhr.send(null)},1e3)}},export_obj={auto:Logger.auto.bind(Logger)};Logger.methodNames.forEach(function(a){export_obj[a]=function(){Logger.send.call(Logger,a,arguments)}}),window.logger=export_obj}();